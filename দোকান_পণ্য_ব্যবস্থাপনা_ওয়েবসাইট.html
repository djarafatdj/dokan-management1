<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>দোকান পণ্য ব্যবস্থাপনা (লগইন সহ)</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f8; padding:20px; }
    h1 { text-align:center; }
    .container { max-width:900px; margin:auto; background:#fff; padding:20px; border-radius:8px; }
    input, button { padding:8px; margin:5px 0; width:100%; }
    table { width:100%; border-collapse: collapse; margin-top:20px; }
    th, td { border:1px solid #ccc; padding:8px; text-align:center; }
    th { background:#eee; }
    .btn { cursor:pointer; }
    .edit { background:#ffc107; }
    .delete { background:#dc3545; color:#fff; }
    .hidden { display:none; }
  </style>
</head>
<body>

<div class="container" id="loginBox">
  <h1>লগইন</h1>
  <input type="text" id="username" placeholder="ইউজারনেম">
  <input type="password" id="password" placeholder="পাসওয়ার্ড">
  <button onclick="login()">লগইন করুন</button>
</div>

<div class="container hidden" id="appBox">
  <h1>দোকানের পণ্য তালিকা</h1>

  <label>পণ্যের নাম</label>
  <input type="text" id="name">

  <label>কেনা দাম</label>
  <input type="number" id="buy">

  <label>বিক্রয় দাম</label>
  <input type="number" id="sell">

  <button onclick="addProduct()">সংরক্ষণ করুন</button>

  <table>
    <thead>
      <tr>
        <th>পণ্যের নাম</th>
        <th>কেনা দাম</th>
        <th>বিক্রয় দাম</th>
        <th>লাভ</th>
        <th>একশন</th>
      </tr>
    </thead>
    <tbody id="productTable"></tbody>
  </table>

  <button onclick="logout()">লগআউট</button>
</div>

<script>
  const USER = 'admin';
  const PASS = '1234';

  let products = JSON.parse(localStorage.getItem('products')) || [];

  function login(){
    const u = document.getElementById('username').value;
    const p = document.getElementById('password').value;
    if(u === USER && p === PASS){
      localStorage.setItem('loggedIn','yes');
      showApp();
    } else {
      alert('ভুল তথ্য');
    }
  }

  function logout(){
    localStorage.removeItem('loggedIn');
    location.reload();
  }

  function showApp(){
    document.getElementById('loginBox').classList.add('hidden');
    document.getElementById('appBox').classList.remove('hidden');
    render();
  }

  function render(){
    const table = document.getElementById('productTable');
    table.innerHTML = '';
    products.forEach((p,i)=>{
      const profit = p.sell - p.buy;
      table.innerHTML += `<tr>
        <td>${p.name}</td>
        <td>${p.buy}</td>
        <td>${p.sell}</td>
        <td>${profit}</td>
        <td>
          <button class='edit' onclick='editProduct(${i})'>Edit</button>
          <button class='delete' onclick='deleteProduct(${i})'>Delete</button>
        </td>
      </tr>`;
    });
    localStorage.setItem('products', JSON.stringify(products));
  }

  function addProduct(){
    const name = document.getElementById('name').value;
    const buy = Number(document.getElementById('buy').value);
    const sell = Number(document.getElementById('sell').value);
    if(!name || !buy || !sell) return alert('সব তথ্য দিন');
    products.push({name,buy,sell});
    document.getElementById('name').value='';
    document.getElementById('buy').value='';
    document.getElementById('sell').value='';
    render();
  }

  function editProduct(i){
    const p = products[i];
    document.getElementById('name').value=p.name;
    document.getElementById('buy').value=p.buy;
    document.getElementById('sell').value=p.sell;
    products.splice(i,1);
    render();
  }

  function deleteProduct(i){
    if(confirm('ডিলিট করবেন?')){
      products.splice(i,1);
      render();
    }
  }

  if(localStorage.getItem('loggedIn')==='yes') showApp();
</script>

</body>
</html>
